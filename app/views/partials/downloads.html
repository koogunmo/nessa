<div id="downloads">
	<div class="row search">
		<div class="col-sm-12">
			<div class="input-group">
				<input type="text" class="form-control search" placeholder="Search download list..." ng-model="filter.name">
				<span class="input-group-addon btn btn-success" ui-sref="downloads.add"><span class="glyphicon glyphicon-plus"></span></span>
				<span class="input-group-addon btn btn-danger" ng-click="filter.name=''"><span class="glyphicon glyphicon-remove"></span></span>
			</div>
		</div>
	</div>
	<div class="row">
		<div ng-show="downloads.length" class="col-sm-12" style="text-align: right;">
			Showing {{results.length}} of {{downloads.length}} downloads
		</div>
	</div>
	
	<div class="download" ng-repeat="download in results = (downloads | filter:filter) | orderBy:predicate:reverse" ng-class="{'paused': !download.status}" ui-sref="downloads.info({id: download.id})">
		<span class="pull-right">
			<button type="button" class="btn btn-xs btn-info">
				<span class="glyphicon glyphicon-cog"></span>
			</button>
		</span>
		
		<h4>{{download.name}}</h4>
		<div class="progress progress-striped" title="{{download.percentDone*100 | number:2}}%">
			<div class="progress-bar" role="progressbar" style="width: {{download.percentDone*100}}%;" ng-class="{'progress-bar-success': download.percentDone==1}"></div>
		</div>
		<div class="stats ">
			<span class="pull-right hidden-xs">
				<span ng-if="download.rateDownload">
					{{download.rateDownload|formatBytes}}
					<span class="glyphicon glyphicon-arrow-down"></span>
				</span>
				<span ng-if="download.rateUpload">
					<span class="glyphicon glyphicon-arrow-up"></span>
					{{download.rateUpload|formatBytes}}
				</span>
			</span>
			<span>{{download.sizeWhenDone|formatBytes}}, uploaded {{download.uploadedEver|formatBytes}}</span>
			<span>(Ratio: {{download.uploadedEver/download.downloadedEver|number:1}})</span>
		</div>
	</div>
	<div ng-hide="results.length">
		<div ng-show="filter.name.length">No matches found</div>
	</div>
	<div ng-hide="downloads.length">
		Loading...
	</div>
</div>